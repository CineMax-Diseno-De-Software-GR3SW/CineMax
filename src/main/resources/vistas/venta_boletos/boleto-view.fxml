<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<BorderPane prefHeight="550" prefWidth="800" styleClass="root" stylesheets="@../temas/styles.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cinemax.venta_boletos.Controladores.ControladorBoleto">

    <top>
        <HBox fx:id="headerBar" alignment="CENTER_LEFT" spacing="15.0" styleClass="header-bar">
            <children>
            <Button fx:id="buttonVolver" onAction="#onBackAction" styleClass="icon-button" text="←" />
                <Label styleClass="section-title" text="Selecciona tus Boletos" />
                <Region HBox.hgrow="ALWAYS" />
            </children>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" styleClass="scroll-pane">
            <content>
                <!-- CORRECCIÓN: Se añade la clase de estilo para que el fondo sea visible -->
                <VBox alignment="TOP_CENTER" spacing="20.0" styleClass="content-pane">
                    <padding>
                        <Insets bottom="20.0" left="40.0" right="40.0" top="20.0" />
                    </padding>
                    <VBox spacing="10.0">
                        <children>
                            <!-- Header con título VIP y disponibilidad -->
                            <HBox alignment="CENTER_LEFT">
                                <children>
                                    <Label styleClass="section-title" text="Sala " />
                           <Label fx:id="labelTipoSala" styleClass="section-title" text="VIP" />
                                    <Region HBox.hgrow="ALWAYS" />
                                    <Label styleClass="availability-label" text="Disponibles: " />
                           <Label fx:id="labelCantidadButacasDisponiboes" styleClass="availability-label" text="0" />
                                </children>
                            </HBox>
                            <VBox spacing="10" styleClass="ticket-card">
                        <HBox prefHeight="0.0" prefWidth="397.0">
                           <children>
                                      <Label text="Precio: $" />
                              <Label fx:id="labelPrecio" text="0.00" />
                           </children>
                        </HBox>
                                <HBox alignment="CENTER_LEFT" spacing="15.0">
                                    <Button fx:id="minusButton" onAction="#onMinus" styleClass="stepper-button" text="-" />
                                    <Label fx:id="countLabel" style="-fx-font-size: 18px; -fx-font-weight: bold;" text="0" />
                                    <Button fx:id="plusButton" onAction="#onPlus" styleClass="stepper-button" text="+" />
                                </HBox>
                            </VBox>
                        </children>
                    </VBox>
                    <VBox spacing="10.0">
                        <children>
                            <!-- Header con título Normal y disponibilidad -->
                            <HBox alignment="CENTER_LEFT">
                                <children>
                                    <Region HBox.hgrow="ALWAYS" />
                                </children>
                            </HBox>
                        </children>
                    </VBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>

    <right>
        <VBox maxWidth="280" minWidth="280" spacing="15.0" styleClass="summary-pane">
         <VBox fx:id="funcionInfoContainer" spacing="10.0" styleClass="info-section">
            <children>
               <Label styleClass="section-header" text="Información de la función" />
               <HBox alignment="CENTER_LEFT" spacing="10.0">
                  <children>
                     <ImageView fx:id="imagenPelicula" fitHeight="154.0" fitWidth="90.0" preserveRatio="true" styleClass="movie-poster" />
                     <VBox prefHeight="169.0" prefWidth="144.0" spacing="5.0" HBox.hgrow="ALWAYS">
                        <children>
                           <Label fx:id="labelNombrePelicula" styleClass="movie-title" text="Nombre de la película" wrapText="true" />
                           <Label fx:id="labelGeneroPelicula" styleClass="movie-genre" text="Género" />
                           <Label fx:id="labelFormato" styleClass="movie-genre" text="Formato" />
                           <Label fx:id="labelTipoEstreno" styleClass="movie-genre" text="Tipo Estreno" />
                           <Label fx:id="labelLugarSala" styleClass="movie-info" text="Sala" />
                           <Label fx:id="labelFechaFuncion" styleClass="movie-info" text="Fecha" />
                           <Label fx:id="labelHoraFuncion" styleClass="movie-info" text="Hora" />
                        </children>
                     </VBox>
                  </children>
               </HBox>
            </children>
         </VBox>
            <HBox alignment="CENTER" />
            <Separator />
            <Text fx:id="tusBoletosTitle" fill="WHITE" style="-fx-font-weight: bold;" text="TUS BOLETOS" />
            <VBox fx:id="ticketSummaryContainer" spacing="8.0" />
            <HBox>
                <Label style="-fx-font-weight: bold; -fx-font-size: 18px;" text="Total:" />
                <Region HBox.hgrow="ALWAYS" />
                <Label fx:id="totalLabel" style="-fx-font-weight: bold; -fx-font-size: 18px;" text="0.00" />
            </HBox>
            <Region VBox.vgrow="ALWAYS" />
            <Button fx:id="continueButton" maxWidth="Infinity" onAction="#onContinuarAction" styleClass="primary-button" text="Continuar" />
        </VBox>
    </right>
</BorderPane>
